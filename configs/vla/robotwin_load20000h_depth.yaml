model:
  model_path: /robby/share/MM/LingBot_ckpt/lingbot_vla_depth/checkpoints/global_step_100000/hf_ckpt/
  tokenizer_path: '/robby/share/MM/checkpoints/huggingface/Qwen2.5-VL-3B-Instruct/'
  post_training: true
  adanorm_time: true
  old_adanorm: true

data:
  datasets_type: vla
  data_name: robotwin_5_new
  train_path: /robby/share/Robotics/yangshuai/cache/huggingface/lerobot_merged/set_2/
  num_workers: 8
  norm_type: bounds_99_woclip
  norm_stats_file: assets/norm_stats/robotwin_50.json

train:
  output_dir: /robby/share/MM/robotwin_ckpt/lingbot_cotraining_abs/debug/
  loss_type: L1_fm
  data_parallel_mode: fsdp2
  enable_full_shard: false
  module_fsdp_enable: true
  use_compile: true
  use_wandb: false
  rmpad: false
  rmpad_with_pos_ids: false
  ulysses_parallel_size: 1
  freeze_vision_encoder: false
  tokenizer_max_length: 24
  action_dim: 14
  max_action_dim: 75
  max_state_dim: 75
  lr: 1.0e-4
  lr_decay_style: constant
  num_train_epochs: 69
  micro_batch_size: 32
  global_batch_size: 256
  max_steps: 220000
  ckpt_manager: dcp
  save_steps: 220000
  save_epochs: 69
  enable_fp32: true
  enable_resume: true
  align_params:
    mode: 'query'
    num_task_tokens: 8
    use_image_tokens: True
    use_task_tokens: False
    use_text_tokens: False
    use_contrastive: True
    contrastive_loss_weight: 0.3
    depth_loss_weight: 0.002
    llm:
      dim_out: 2048
      image_token_size: 8
      image_input_size: 224
    depth:
      model_type: MoRGBD
      moge_path: /robby/share/MM/wangyunnan/models/morgbd/moge2-vitb-normal.pt
      morgbd_path: /robby/share/MM/lingbot_depth/model_mdm_pre.pt
      num_layers: 1
      num_heads: 4
      dim_head: 32
      ff_mult: 1
      num_backbone_tokens: 256
      token_size: 16
      dim_out: 1024
      input_size: 224
    visual_steps: 10000
    visual_dir: /robby/share/MM/robotwin_ckpt/lingbot_cotraining_abs/debug/images